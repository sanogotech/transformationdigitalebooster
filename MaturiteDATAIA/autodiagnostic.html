<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Diagnostic de MaturitÃ© Data</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { padding-top: 3rem; }
    .context-help { font-size: 0.9em; color: #666; }
    .card { margin-bottom: 1.5rem; }
  </style>
</head>
<body>
  <div class="container">
    <h1 class="text-center mb-4">ðŸ§­ Diagnostic de MaturitÃ© Data</h1>
    <p class="text-center">RÃ©pondez Ã  ces 12 questions pour Ã©valuer la maturitÃ© Data de votre organisation.</p>

    <form id="diagnosticForm">
      <div id="questions"></div>
      <button type="submit" class="btn btn-primary btn-block">ðŸŽ¯ Ã‰valuer</button>
    </form>

    <div id="results" class="mt-5" style="display:none;">
      <h2 class="text-center">ðŸ“Š RÃ©sultats du Diagnostic</h2>
      <canvas id="radarChart" width="400" height="400"></canvas>
      <div class="mt-4" id="recommendation"></div>
    </div>
  </div>

  <script>
    const questions = [
      "Votre organisation utilise-t-elle encore des fichiers Excel non centralisÃ©s pour ses processus critiques ?",
      "Partagez-vous les fichiers via une plateforme collaborative avec des rÃ¨gles d'accÃ¨s claires ?",
      "Disposez-vous de tableaux de bord BI mis Ã  jour et utilisÃ©s rÃ©guliÃ¨rement ?",
      "Les scripts de traitement de donnÃ©es sont-ils centralisÃ©s et versionnÃ©s ?",
      "Votre entreprise a-t-elle un entrepÃ´t de donnÃ©es (DWH) fonctionnel ?",
      "Un dictionnaire de donnÃ©es ou catalogue est-il disponible et utilisÃ© ?",
      "Les pipelines de donnÃ©es sont-ils orchestrÃ©s et surveillÃ©s automatiquement ?",
      "Les Ã©quipes mÃ©tiers ont-elles accÃ¨s Ã  la donnÃ©e en libre-service ?",
      "Avez-vous des modÃ¨les IA dÃ©ployÃ©s et monitorÃ©s ?",
      "L'IA est-elle utilisÃ©e dans les dÃ©cisions quotidiennes mÃ©tier ?",
      "Les boucles de retour d'expÃ©rience sont-elles basÃ©es sur les donnÃ©es ?",
      "Votre stratÃ©gie d'entreprise est-elle pensÃ©e autour de la donnÃ©e ?"
    ];

    const helpTexts = [
      "Ex : Des fichiers Excel critiques gÃ©rÃ©s manuellement sur plusieurs postes.",
      "Ex : Utilisation de Google Drive, SharePoint, avec accÃ¨s dÃ©finis.",
      "Ex : Des dashboards Power BI/Tableau rÃ©guliÃ¨rement utilisÃ©s par les mÃ©tiers.",
      "Ex : Code Python dans GitHub/GitLab, avec bonne documentation.",
      "Ex : BigQuery, Snowflake, Redshift, etc. avec schÃ©ma clair.",
      "Ex : Utilisation dâ€™un outil comme DataHub, Amundsen, avec documentation des KPIs.",
      "Ex : Airflow, dbt, tests de donnÃ©es automatisÃ©s.",
      "Ex : Les mÃ©tiers peuvent extraire des donnÃ©es sans passer par la DSI.",
      "Ex : ModÃ¨les IA en production avec suivi de performance (drift, etc.).",
      "Ex : PrÃ©dictions/automatisations IA intÃ©grÃ©es aux workflows mÃ©tiers.",
      "Ex : Post-mortems ou rÃ©trospectives enrichis de donnÃ©es et KPIs.",
      "Ex : Les projets et outils sont conÃ§us avec une logique data-first."
    ];

    const scores = [];

    const container = document.getElementById('questions');
    questions.forEach((q, i) => {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <div class="card-body">
          <h5 class="card-title">${i+1}. ${q}</h5>
          <p class="context-help">ðŸ’¡ ${helpTexts[i]}</p>
          <div class="form-group">
            <select class="form-control score-select" required>
              <option value="">-- Choisir un niveau --</option>
              <option value="1">1 - Pas du tout</option>
              <option value="2">2 - TrÃ¨s peu</option>
              <option value="3">3 - Partiellement</option>
              <option value="4">4 - Majoritairement</option>
              <option value="5">5 - ComplÃ¨tement</option>
            </select>
          </div>
        </div>
      `;
      container.appendChild(card);
    });

    document.getElementById('diagnosticForm').addEventListener('submit', function(e) {
      e.preventDefault();
      scores.length = 0;
      const selects = document.querySelectorAll('.score-select');
      let valid = true;
      selects.forEach(select => {
        const val = parseInt(select.value);
        if (isNaN(val)) valid = false;
        else scores.push(val);
      });
      if (!valid) return alert('Merci de rÃ©pondre Ã  toutes les questions.');
      showResults();
    });

    function showResults() {
      document.getElementById('results').style.display = 'block';
      const ctx = document.getElementById('radarChart').getContext('2d');
      new Chart(ctx, {
        type: 'radar',
        data: {
          labels: questions.map((q, i) => `N${i+1}`),
          datasets: [{
            label: 'Score de MaturitÃ©',
            data: scores,
            backgroundColor: 'rgba(0, 123, 255, 0.2)',
            borderColor: 'rgba(0, 123, 255, 1)',
            borderWidth: 2
          }]
        },
        options: {
          scale: {
            ticks: { beginAtZero: true, min: 0, max: 5, stepSize: 1 }
          }
        }
      });
      const avg = scores.reduce((a,b) => a + b, 0) / scores.length;
      const recDiv = document.getElementById('recommendation');
      let feedback = '';
      if (avg < 2) {
        feedback = '<h4 class="text-danger">ðŸ“‰ Niveau : Survie</h4><p>Priorisez lâ€™Ã©limination des fichiers dispersÃ©s, standardisez vos pratiques et lancez une gouvernance simple.</p>';
      } else if (avg < 3) {
        feedback = '<h4 class="text-warning">ðŸ›  Niveau : Structuration</h4><p>Structurez vos sources de vÃ©ritÃ©, gouvernance, pipelines et culture data.</p>';
      } else if (avg < 4) {
        feedback = '<h4 class="text-info">ðŸš§ Niveau : Industrialisation</h4><p>Renforcez lâ€™automatisation, lâ€™accÃ¨s aux donnÃ©es, le monitoring et lâ€™usage mÃ©tier.</p>';
      } else {
        feedback = '<h4 class="text-success">ðŸš€ Niveau : Excellence</h4><p>Vous Ãªtes proche dâ€™une organisation data-first. Consolidez la culture, lâ€™innovation et la valeur mÃ©tier !</p>';
      }
      recDiv.innerHTML = feedback;
    }
  </script>
</body>
</html>
